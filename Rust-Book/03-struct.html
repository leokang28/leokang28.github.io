<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 3 - Using Structs to Structure Related Data | KSLEO</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.35aebc44.css" as="style"><link rel="preload" href="/assets/js/app.6f46cf57.js" as="script"><link rel="preload" href="/assets/js/2.49ce1412.js" as="script"><link rel="preload" href="/assets/js/8.560dd961.js" as="script"><link rel="prefetch" href="/assets/js/10.86ad4e85.js"><link rel="prefetch" href="/assets/js/11.e7ef91a0.js"><link rel="prefetch" href="/assets/js/12.14d347b9.js"><link rel="prefetch" href="/assets/js/13.beaf8085.js"><link rel="prefetch" href="/assets/js/14.e42e08a4.js"><link rel="prefetch" href="/assets/js/15.41e8c95f.js"><link rel="prefetch" href="/assets/js/16.e8b84c5d.js"><link rel="prefetch" href="/assets/js/17.4d574f20.js"><link rel="prefetch" href="/assets/js/18.a8a8e164.js"><link rel="prefetch" href="/assets/js/19.118b3a66.js"><link rel="prefetch" href="/assets/js/20.ccdc0717.js"><link rel="prefetch" href="/assets/js/21.88ceead5.js"><link rel="prefetch" href="/assets/js/22.500d3be7.js"><link rel="prefetch" href="/assets/js/23.b7ca339b.js"><link rel="prefetch" href="/assets/js/24.0360313a.js"><link rel="prefetch" href="/assets/js/25.6083b636.js"><link rel="prefetch" href="/assets/js/26.1bd9d3eb.js"><link rel="prefetch" href="/assets/js/27.beb716dd.js"><link rel="prefetch" href="/assets/js/28.bb093ca6.js"><link rel="prefetch" href="/assets/js/29.5b527549.js"><link rel="prefetch" href="/assets/js/3.8a6c11df.js"><link rel="prefetch" href="/assets/js/30.796276de.js"><link rel="prefetch" href="/assets/js/31.666b101e.js"><link rel="prefetch" href="/assets/js/32.654129d9.js"><link rel="prefetch" href="/assets/js/33.e479db51.js"><link rel="prefetch" href="/assets/js/4.e2a8d64a.js"><link rel="prefetch" href="/assets/js/5.dd4c966a.js"><link rel="prefetch" href="/assets/js/6.00a6c78e.js"><link rel="prefetch" href="/assets/js/7.9330d48e.js"><link rel="prefetch" href="/assets/js/9.da6c1180.js">
    <link rel="stylesheet" href="/assets/css/0.styles.35aebc44.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">KSLEO</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/directory/" class="nav-link">
  ç¬”è®°ğŸ“’
</a></div><div class="nav-item"><a href="http://leokang28.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åšå®¢ğŸ”—
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/directory/" class="nav-link">
  ç¬”è®°ğŸ“’
</a></div><div class="nav-item"><a href="http://leokang28.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åšå®¢ğŸ”—
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="chapter-3-using-structs-to-structure-related-data"><a href="#chapter-3-using-structs-to-structure-related-data" class="header-anchor">#</a> Chapter 3 - Using Structs to Structure Related Data</h1> <p>ç»“æ„ä½“æ˜¯ä¸€ä¸ªç¼–ç è€…è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥è®©ç¼–ç è€…è‡ªå·±å‘½åï¼Œç»„ç»‡ä¸€äº›æ•°æ®å½¢æˆä¸€ä¸ªæœ‰ç‰¹æ®Šæ„ä¹‰çš„é›†åˆã€‚è·Ÿé¢å‘å¯¹è±¡æ¦‚å¿µä¸­çš„å¯¹è±¡æ¦‚å¿µç±»ä¼¼ã€‚ç»“æ„ä½“å’Œæšä¸¾æ˜¯åˆ›å»ºæ–°ç±»å‹çš„åŸºç¡€ï¼Œä»¥è‡´èƒ½å¤Ÿå……åˆ†åˆ©ç”¨Rustç¼–è¯‘å™¨åšç±»å‹æ£€æŸ¥ã€‚</p> <h2 id="section-1-ç»“æ„ä½“çš„å®šä¹‰å’Œå®ä¾‹åŒ–"><a href="#section-1-ç»“æ„ä½“çš„å®šä¹‰å’Œå®ä¾‹åŒ–" class="header-anchor">#</a> Section 1 - ç»“æ„ä½“çš„å®šä¹‰å’Œå®ä¾‹åŒ–</h2> <p>ç»“æ„ä½“è·Ÿå…ƒç»„æœ‰äº›ç±»ä¼¼ï¼Œå®ƒå†…éƒ¨çš„æ•°æ®ä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹ã€‚ä¸å…ƒç»„ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œä½ å¯ä»¥å¯¹æ¯ä¸ªæ•°æ®å‘½åï¼Œä¾¿äºç†è§£è¿™äº›æ•°æ®å…·ä½“ä»£è¡¨çš„æ˜¯ä»€ä¹ˆå«ä¹‰ã€‚ç”±äºæœ‰äº†è¿™äº›åç§°ï¼Œä½ ä¸å†éœ€è¦åƒå…ƒç»„ä¸€æ ·æŒ‰é¡ºåºè®¿é—®å†…éƒ¨å…ƒç´ ã€‚</p> <p><code>struct</code>å…³é”®å­—ååŠ ä¸€ä¸ªåç§°å°±å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“ã€‚ç»“æ„ä½“çš„è‡ªå®šä¹‰åç§°åº”è¯¥æ˜¯å……åˆ†è¯­ä¹‰åŒ–çš„ï¼Œèƒ½å¤Ÿä¼ è¾¾å†…éƒ¨æ•°æ®ä¸ºä½•è¦ç»„ç»‡åœ¨ä¸€èµ·ã€‚åœ¨èŠ±æ‹¬å·ä¸­ï¼Œå®šä¹‰äº†æ¯ä¸ªå…ƒç´ çš„åç§°å’Œç±»å‹ï¼Œè¿™äº›å†…éƒ¨å…ƒç´ ç§°ä¹‹ä¸º<em>fieldsï¼ˆå­—æ®µï¼‰</em>ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">struct</span> User <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    sign_in_count<span class="token punctuation">:</span> u64<span class="token punctuation">,</span>
    active<span class="token punctuation">:</span> bool<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>é€šè¿‡ç»“æ„ä½“ç”Ÿæˆçš„å˜é‡ç§°ä¹‹ä¸º<em>instanceï¼ˆå®ä¾‹ï¼‰</em>ã€‚åˆ›å»ºä¸€ä¸ªå®ä¾‹éœ€è¦æŒ‡æ˜ä½¿ç”¨çš„ç»“æ„ä½“åç§°ï¼Œå¹¶ä¸”ä»¥<em>key-value</em>çš„å½¢å¼å¡«å……æ¯ä¸€ä¸ªå­—æ®µã€‚keyæ˜¯åœ¨ç»“æ„ä½“ä¸­å®šä¹‰å¥½çš„å­—æ®µåç§°ï¼Œvalueæ˜¯æˆ‘ä»¬æƒ³è¦åœ¨å¯¹åº”çš„å­—æ®µä¸­å­˜å‚¨çš„æ•°æ®ã€‚å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå­—æ®µé¡ºåºä¸éœ€è¦å’Œç»“æ„ä½“å®šä¹‰çš„é¡ºåºä¸€è‡´ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> user1 <span class="token operator">=</span> User <span class="token punctuation">{</span>
    email<span class="token punctuation">:</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someone@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    username<span class="token punctuation">:</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someusername123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    active<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
    sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è·å–å®ä¾‹ä¸­çš„æ•°æ®å¯ä»¥é€šè¿‡ç‚¹æ“ä½œç¬¦ï¼Œä¾‹å¦‚<code>user1.email</code>ã€‚åªè¦è¯¥å®ä¾‹æ˜¯mutableçš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å®ƒä¸Šé¢çš„å­—æ®µæ•°æ®åšä¿®æ”¹ï¼Œä¾‹å¦‚<code>user1.mail = String::from(&quot;anotheremail@example.com&quot;);</code>ã€‚éœ€è¦æ³¨æ„ï¼Œåœ¨æ”¹å˜æ•°æ®æ—¶ï¼Œå®ä¾‹æœ¬èº«éœ€è¦æ˜¯mutableçš„ï¼ŒRustä¸å…è®¸ä»…å…¶ä¸­æŸäº›å­—æ®µä¸ºmutableã€‚</p> <p>ä¸å…¶ä»–è¡¨è¾¾å¼ä¸€æ ·ï¼Œå¯ä»¥åœ¨å‡½æ•°æœ€åå®ä¾‹åŒ–ä¸€ä¸ªç»“æ„ä½“å¹¶å°†å…¶ä½œä¸ºå‡½æ•°è¿”å›å€¼ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">build_user</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> String<span class="token punctuation">,</span> username<span class="token punctuation">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> User <span class="token punctuation">{</span>
    User <span class="token punctuation">{</span>
        email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> username<span class="token punctuation">,</span>
        active<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="å®ä¾‹åŒ–ç®€å†™"><a href="#å®ä¾‹åŒ–ç®€å†™" class="header-anchor">#</a> å®ä¾‹åŒ–ç®€å†™</h3> <p>å› ä¸ºå‚æ•°åå’Œå­—æ®µåæ˜¯å®Œå…¨ç›¸ç­‰çš„ï¼Œå¯ä»¥é€šè¿‡å­—æ®µåˆå§‹åŒ–ç®€å†™è¯­æ³•æ¥åˆ›å»ºå®ä¾‹ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">build_user</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> String<span class="token punctuation">,</span> username<span class="token punctuation">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> User <span class="token punctuation">{</span>
    User <span class="token punctuation">{</span>
        email<span class="token punctuation">,</span>
        username<span class="token punctuation">,</span>
        active<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="é€šè¿‡å…¶ä»–å®ä¾‹åˆ›å»ºæ–°å®ä¾‹"><a href="#é€šè¿‡å…¶ä»–å®ä¾‹åˆ›å»ºæ–°å®ä¾‹" class="header-anchor">#</a> é€šè¿‡å…¶ä»–å®ä¾‹åˆ›å»ºæ–°å®ä¾‹</h3> <p>é€šè¿‡å·²ç»å­˜åœ¨çš„å®ä¾‹åˆ›å»ºæ–°å®ä¾‹æ˜¯ä¸€ä¸ªéå¸¸ä¾¿æ·çš„æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ç»“æ„ä½“æ›´æ–°è¯­æ³•ã€‚å…ˆçœ‹ä¸€ä¸‹ä½¿ç”¨æ™®é€šæ–¹æ³•çš„ä¾‹å­</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> user2 <span class="token operator">=</span> User <span class="token punctuation">{</span>
    email<span class="token punctuation">:</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;another@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    username<span class="token punctuation">:</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;anotherusername567&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    active<span class="token punctuation">:</span> user1<span class="token punctuation">.</span>active<span class="token punctuation">,</span>
    sign_in_count<span class="token punctuation">:</span> user1<span class="token punctuation">.</span>sign_in_count<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹<code>user2</code>ï¼Œå¹¶ä¸”<code>active</code>å’Œ<code>sign_in_count</code>è¿™ä¸¤ä¸ªå­—æ®µæ˜¯ä»<code>user1</code>å–å€¼çš„ã€‚ä½¿ç”¨ç»“æ„ä½“æ›´æ–°è¯­æ³•å¯ä»¥ä½¿ä»£ç é‡æ›´å°‘ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> user2 <span class="token operator">=</span> User <span class="token punctuation">{</span>
    email<span class="token punctuation">:</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;another@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    username<span class="token punctuation">:</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;anotherusername567&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">..</span>user1
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ä½¿ç”¨å…ƒç»„å’Œç»“æ„ä½“æ„é€ æ–°ç±»å‹"><a href="#ä½¿ç”¨å…ƒç»„å’Œç»“æ„ä½“æ„é€ æ–°ç±»å‹" class="header-anchor">#</a> ä½¿ç”¨å…ƒç»„å’Œç»“æ„ä½“æ„é€ æ–°ç±»å‹</h3> <p>æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€äº›åƒå…ƒç»„ä¸€æ ·çš„ç»“æ„ä½“ï¼Œç§°ä¹‹ä¸ºå…ƒç»„ç»“æ„ä½“ã€‚å…ƒç»„ç»“æ„ä½“å…·æœ‰è¯­ä¹‰åŒ–çš„åç§°ï¼Œä½†æ˜¯æ²¡æœ‰å­—æ®µåï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰å­—æ®µç±»å‹ã€‚å…ƒç»„ç»“æ„ä½“åœ¨ç»™å…ƒç»„å‘½åå’Œä¸å…¶ä»–å…ƒç»„åšåŒºåˆ†æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p> <p>å…ƒç»„ç»“æ„ä½“çš„å®šä¹‰ï¼š<code>struct</code>å…³é”®å­—åŠ ä¸€ä¸ªåç§°ï¼Œåé¢å†è·Ÿä¸€ä¸ªæ‹¬å·ï¼Œé‡Œé¢æ˜¯å­—æ®µç±»å‹åˆ—è¡¨ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">struct</span> <span class="token function">Color</span><span class="token punctuation">(</span>i32<span class="token punctuation">,</span> i32<span class="token punctuation">,</span> i32<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token function">Point</span><span class="token punctuation">(</span>i32<span class="token punctuation">,</span> i32<span class="token punctuation">,</span> i32<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> black <span class="token operator">=</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> origin <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>black</code>å’Œ<code>origin</code>æ˜¯ä¸åŒçš„å˜é‡ï¼Œå› ä¸ºä»–ä»¬ç»“æ„ä½“çš„åç§°ä¸åŒï¼Œå“ªæ€•ä»–ä»¬å†…éƒ¨çš„å­—æ®µç±»å‹åˆ—è¡¨æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚å…ƒç»„ç»“æ„ä½“çš„å®ä¾‹å’Œæ™®é€šçš„å…ƒç»„åœ¨æ“ä½œä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p> <h3 id="unit-like-structs-without-any-fields"><a href="#unit-like-structs-without-any-fields" class="header-anchor">#</a> Unit-Like Structs Without Any Fields</h3> <p>ç»“æ„ä½“å®šä¹‰æ—¶ä¹Ÿå¯ä»¥æ²¡æœ‰ä»»ä½•çš„å­—æ®µï¼Œè¿™ç§ç»“æ„ä½“ç§°ä¸º<em>unit-like structï¼ˆç±»å•å…ƒç»“æ„ï¼‰</em>ï¼Œå› ä¸ºä»–ä»¬çš„è¡¨ç°è·Ÿå•å…ƒç±»å‹<code>()</code>ç›¸ä¼¼ã€‚å½“ä½ éœ€è¦åœ¨æŸä¸ªç±»å‹ä¸Šå®ç°æŸäº›traitï¼Œä½†åˆä¸æƒ³å­˜å‚¨ä»»ä½•æ•°æ®æ—¶ï¼Œç±»å•å…ƒç»“æ„å¾ˆæœ‰ç”¨ã€‚</p> <h2 id="section-2-ä¸€ä¸ªç»“æ„ä½“ç¤ºä¾‹ç¨‹åº"><a href="#section-2-ä¸€ä¸ªç»“æ„ä½“ç¤ºä¾‹ç¨‹åº" class="header-anchor">#</a> Section 2 - ä¸€ä¸ªç»“æ„ä½“ç¤ºä¾‹ç¨‹åº</h2> <p>å†™ä¸€ä¸ªè®¡ç®—çŸ©å½¢é¢ç§¯çš„ç¨‹åºï¼Œä»æ™®é€šçš„å˜é‡å¼€å§‹ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> width1 <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> height1 <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;area is {}&quot;</span><span class="token punctuation">,</span> <span class="token function">area</span><span class="token punctuation">(</span>width1<span class="token punctuation">,</span> height1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function">area</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span>u32<span class="token punctuation">,</span> height<span class="token punctuation">:</span>u32<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> u32 <span class="token punctuation">{</span>
    width <span class="token operator">*</span> height
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>çŸ©å½¢çš„é«˜åº¦å’Œå®½åº¦æ˜¯ä¸¤ä¸ªå…³è”çš„å˜é‡ï¼Œå› ä¸ºä»–ä»¬æ„æˆäº†ä¸€ä¸ªçŸ©å½¢ï¼Œä½†æ˜¯ç›®å‰åœ¨ç¨‹åºä¸­çœ‹ä¸åˆ°ä»»ä½•å…³è”æ€§ï¼Œå¯è¯»æ€§å¤ªå·®ã€‚</p> <h3 id="ä½¿ç”¨å…ƒç»„é‡æ„"><a href="#ä½¿ç”¨å…ƒç»„é‡æ„" class="header-anchor">#</a> ä½¿ç”¨å…ƒç»„é‡æ„</h3> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;area is {}&quot;</span><span class="token punctuation">,</span> <span class="token function">area</span><span class="token punctuation">(</span>rect1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function">area</span><span class="token punctuation">(</span>rect<span class="token punctuation">:</span> <span class="token punctuation">(</span>u32<span class="token punctuation">,</span> u32<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> u32 <span class="token punctuation">{</span>
    rect<span class="token number">.0</span> <span class="token operator">*</span> rect<span class="token number">.1</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä½¿ç”¨å…ƒç»„ç¨å¾®æœ‰äº†ä¸€äº›ç»“æ„æ€§ï¼Œä½†æ˜¯åœ¨å¯è¯»æ€§è¿˜æ˜¯ä¸å¤Ÿå¥½ï¼Œå› ä¸ºå…ƒç»„ä¸èƒ½å¤Ÿå¯¹å­—æ®µè¿›è¡Œå‘½åã€‚</p> <h3 id="ä½¿ç”¨ç»“æ„ä½“é‡æ„"><a href="#ä½¿ç”¨ç»“æ„ä½“é‡æ„" class="header-anchor">#</a> ä½¿ç”¨ç»“æ„ä½“é‡æ„</h3> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">struct</span> Rect <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> u32<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> u32<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1<span class="token operator">=</span> Rect <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;area is {}&quot;</span><span class="token punctuation">,</span> <span class="token function">area</span><span class="token punctuation">(</span>rect1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function">area</span><span class="token punctuation">(</span>rect<span class="token punctuation">:</span> Rect<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> u32 <span class="token punctuation">{</span>
    rect<span class="token punctuation">.</span>width <span class="token operator">*</span> rect<span class="token punctuation">.</span>height
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>å®šä¹‰ä¸€ä¸ªçŸ©å½¢ç±»å‹ä¹‹åï¼Œä»£ç ç›®å‰å¯è¯»æ€§å’ŒæŠ½è±¡éƒ½æ¯”è¾ƒå¥½ã€‚</p> <h2 id="section-3-æ–¹æ³•è¯­æ³•"><a href="#section-3-æ–¹æ³•è¯­æ³•" class="header-anchor">#</a> Section 3 - æ–¹æ³•è¯­æ³•</h2> <p>æ–¹æ³•å’Œå‡½æ•°çš„å”¯ä¸€åŒºåˆ«åœ¨äºï¼Œæ–¹æ³•æ˜¯å®šä¹‰åœ¨ç±»å‹ä¸­çš„ï¼Œæœ‰å®ƒç‰¹å®šçš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯<code>self</code>ï¼Œæ˜¯ä¸€ä¸ªå½“å‰è°ƒç”¨å®ƒçš„å®ä¾‹ã€‚</p> <h3 id="æ–¹æ³•å®šä¹‰"><a href="#æ–¹æ³•å®šä¹‰" class="header-anchor">#</a> æ–¹æ³•å®šä¹‰</h3> <p>ä½¿ç”¨<code>impl</code>å…³é”®å­—ã€‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">struct</span> Rect <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> u32<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> u32<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ–¹æ³•å®šä¹‰</span>
<span class="token keyword">impl</span> Rect <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> u32 <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1<span class="token operator">=</span> Rect <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;area is {}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><details class="custom-block details"><summary>-&gt;å’Œ.</summary> <p>åœ¨C/C++ä¸­ï¼Œæ–¹æ³•çš„è°ƒç”¨æœ‰ä¸¤ç§æ“ä½œç¬¦ï¼Œåˆ†åˆ«æ˜¯<code>-&gt;</code>å’Œ<code>.</code>ã€‚å½“ç›´æ¥åœ¨å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•æ—¶ä½¿ç”¨<code>.</code>æ“ä½œç¬¦ï¼Œå½“ä½¿ç”¨æŒ‡é’ˆè°ƒç”¨æ–¹æ³•æ—¶ä½¿ç”¨<code>-&gt;</code>æ“ä½œç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´å½“<code>obj</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ—¶ï¼Œ<code>obj-&gt;func()</code>å’Œ<code>(*obj).func()</code>æ˜¯ä¸€æ ·çš„ã€‚</p> <p>Rustä¸­æ²¡æœ‰å’Œ<code>-&gt;</code>ç­‰åŒçš„æ“ä½œç¬¦ï¼ŒRustçš„æ–¹æ¡ˆæ˜¯è‡ªåŠ¨å¼•ç”¨å’Œè§£æå¼•ç”¨ã€‚å½“ä½ é€šè¿‡<code>obj.func()</code>è°ƒç”¨æ–¹æ³•æ—¶ï¼ŒRustä¼šè‡ªåŠ¨åŠ ä¸Š<code>&amp;</code>ã€<code>&amp;mut</code>å’Œ<code>*</code>ï¼Œè®©<code>obj</code>èƒ½å¤Ÿè·Ÿå‡½æ•°å£°æ˜åŒ¹é…ã€‚</p></details> <h3 id="å¤šä¸ªå‚æ•°çš„æ–¹æ³•"><a href="#å¤šä¸ªå‚æ•°çš„æ–¹æ³•" class="header-anchor">#</a> å¤šä¸ªå‚æ•°çš„æ–¹æ³•</h3> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1 <span class="token operator">=</span> Rect <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> rect2 <span class="token operator">=</span> Rect <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> rect3 <span class="token operator">=</span> Rect <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Can rect1 hold rect2? {}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">.</span><span class="token function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rect2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Can rect1 hold rect3? {}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">.</span><span class="token function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rect3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> Rect <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> u32 <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> <span class="token function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> other<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Rect<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> bool <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="å¤šä¸ªimplä»£ç å—"><a href="#å¤šä¸ªimplä»£ç å—" class="header-anchor">#</a> å¤šä¸ª<code>impl</code>ä»£ç å—</h3> <p>Rustæ˜¯å…è®¸å¤šä¸ª<code>impl</code>ä»£ç å—çš„ï¼Œä¾‹å¦‚</p> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">impl</span> Rect <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> u32 <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> Rect <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> other<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Rect<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> bool <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ç›®å‰æ²¡æœ‰å¿…è¦å†™æˆå¤šä¸ª<code>impl</code>ä»£ç å—ï¼Œåé¢ä¼šä»‹ç»åˆ°è¿™ç§æ–¹æ³•çš„é€‚ç”¨æƒ…å†µã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6f46cf57.js" defer></script><script src="/assets/js/2.49ce1412.js" defer></script><script src="/assets/js/8.560dd961.js" defer></script>
  </body>
</html>
